<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>litrev-mcp Reference Guide</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>litrev-mcp Reference Guide</h1>
            <p class="subtitle">AI-Assisted Literature Review with Zotero, PubMed, Semantic Scholar, RAG Search, and Argument Mapping</p>

            <div class="search-bar">
                <input type="text" id="search" placeholder="Search tools, commands, or topics...">
                <button id="theme-toggle" aria-label="Toggle dark mode">üåô</button>
            </div>
        </header>

        <nav class="toc">
            <h3>Contents</h3>
            <ul>
                <li><a href="#prerequisites">Prerequisites</a></li>
                <li><a href="#quick-start">Quick Start</a></li>
                <li><a href="#multi-machine">Multi-Machine Setup</a></li>
                <li><a href="#messy-zotero">I Have a Messy Zotero</a></li>
                <li><a href="#cheat-sheet">Cheat Sheet</a></li>
                <li><a href="#argument-map">Argument Map <span style="color:#e67e22;font-size:0.8em;">(beta)</span></a></li>
                <li><a href="#tools">Tool Reference</a></li>
                <li><a href="#workflows">Workflows</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
        </nav>

        <main>
            <!-- Prerequisites -->
            <section id="prerequisites">
                <h2>üìã Prerequisites</h2>
                <p>Before installing litrev-mcp, ensure you have everything needed:</p>

                <h3>Required for All Features</h3>
                <ul>
                    <li><strong>Python 3.10+</strong> - <a href="https://www.python.org/downloads/" target="_blank">Download</a></li>
                    <li><strong>Zotero desktop application</strong> - <a href="https://www.zotero.org/download/" target="_blank">Download</a></li>
                    <li><strong>Better BibTeX plugin</strong> (required, not optional)</li>
                    <li><strong>Google Drive</strong> (mounted/synced)</li>
                    <li><strong>Zotero API Key & User ID</strong></li>
                </ul>

                <h3>Required for RAG Literature Search</h3>
                <ul>
                    <li><strong>OpenAI API Key</strong> - <a href="https://platform.openai.com/api-keys" target="_blank">Get one</a>
                        <ul>
                            <li>Used for: <code>index_papers</code>, <code>search_papers</code>, <code>ask_papers</code></li>
                            <li>Costs: ~$0.10-0.50 per paper indexed, ~$0.001 per search</li>
                        </ul>
                    </li>
                </ul>

                <h3>Required for Argument Map</h3>
                <ul>
                    <li><strong>Anthropic API Key</strong> - <a href="https://console.anthropic.com/settings/keys" target="_blank">Get one</a>
                        <ul>
                            <li>Used for: <code>extract_concepts</code> (Claude Opus 4.5), <code>search_argument_map</code> (Claude Sonnet for traversal)</li>
                            <li>Costs: ~$0.03-0.10 per extraction, ~$0.003 per search</li>
                        </ul>
                    </li>
                </ul>

                <h3>Optional (Improves Performance)</h3>
                <ul>
                    <li><strong>NCBI API Key</strong> - Increases PubMed rate limits (3‚Üí10 req/sec)</li>
                    <li><strong>Semantic Scholar API Key</strong> - Increases S2 rate limits (100‚Üí5000 req/5min)</li>
                </ul>

                <h3>Better BibTeX Setup</h3>
                <p><strong>Better BibTeX is required</strong> for citation keys to work:</p>
                <ol>
                    <li>In Zotero, go to <strong>Tools ‚Üí Add-ons</strong></li>
                    <li>Click the gear icon ‚Üí <strong>Install Add-on From File...</strong></li>
                    <li>Download <a href="https://retorque.re/zotero-better-bibtex/installation/" target="_blank">Better BibTeX .xpi file</a></li>
                    <li>Restart Zotero</li>
                </ol>
                <p><strong>Verify:</strong> Go to <strong>Zotero ‚Üí Preferences ‚Üí Better BibTeX</strong> and you should see the settings panel.</p>
                <p style="color: #e74c3c;"><strong>If missing:</strong> You'll see errors like "citation key not found"</p>

                <h3>Zotero Credentials</h3>
                <p>You need both API Key and User ID:</p>

                <h4>Get your API Key:</h4>
                <ol>
                    <li>Go to <a href="https://www.zotero.org/settings/keys" target="_blank">https://www.zotero.org/settings/keys</a></li>
                    <li>Click <strong>Create new private key</strong></li>
                    <li>Name: "litrev-mcp"</li>
                    <li>Permissions: Check "Allow library access" and "Allow write access"</li>
                    <li>Click <strong>Save Key</strong> and copy it (won't see it again)</li>
                </ol>

                <h4>Find your User ID:</h4>
                <ul>
                    <li>Shown at the top of the same page: "Your userID for use in API calls is <strong>1234567</strong>"</li>
                    <li>Or in your Zotero profile URL: <code>https://www.zotero.org/USERNAME</code></li>
                </ul>

                <h3>Google Drive Folder Setup</h3>
                <p>Create the Literature folder for PDF storage and config sync:</p>

                <h4>macOS:</h4>
                <pre><code>mkdir -p ~/Library/CloudStorage/GoogleDrive-*/My\ Drive/Literature</code></pre>

                <h4>Linux:</h4>
                <pre><code>mkdir -p ~/google-drive/Literature</code></pre>

                <h4>Windows:</h4>
                <p>Open File Explorer and create:</p>
                <ul>
                    <li><code>G:\My Drive\Literature</code> (if G: is your Google Drive)</li>
                    <li>OR <code>C:\Users\YourName\Google Drive\Literature</code> (depends on your setup)</li>
                    <li><em>Find your Google Drive location by right-clicking the Google Drive icon in system tray</em></li>
                </ul>

                <p><strong>litrev-mcp will auto-create:</strong></p>
                <ul>
                    <li><code>Literature/.litrev/</code> - Config folder</li>
                    <li><code>Literature/.litrev/config.yaml</code> - Main config file</li>
                    <li><code>Literature/.litrev/literature.duckdb</code> - RAG search database</li>
                </ul>
            </section>

            <!-- Quick Start -->
            <section id="quick-start">
                <h2>‚ö° Quick Start</h2>

                <h3>1. Install litrev-mcp</h3>
                <pre><code>uv tool install git+https://github.com/marcus-waldman/litrev_mcp.git</code></pre>

                <h3>2. Set Environment Variables</h3>
                <p style="background: #fff3cd; padding: 12px; border-left: 4px solid #ffc107; margin: 12px 0;">
                    <strong>‚ö†Ô∏è CRITICAL:</strong> The three API keys below must be set as <strong>persistent system/user environment variables</strong> (not just shell-level). The MCP server runs as a separate process and cannot access shell-only variables.
                </p>

                <p><strong>Required:</strong></p>
                <ul>
                    <li><code>ZOTERO_API_KEY</code> - From <a href="https://www.zotero.org/settings/keys" target="_blank">https://www.zotero.org/settings/keys</a></li>
                    <li><code>ZOTERO_USER_ID</code> - Numeric User ID from same page</li>
                    <li><code>OPENAI_API_KEY</code> - From <a href="https://platform.openai.com/api-keys" target="_blank">https://platform.openai.com/api-keys</a></li>
                    <li><code>ANTHROPIC_API_KEY</code> - From <a href="https://console.anthropic.com/settings/keys" target="_blank">https://console.anthropic.com/settings/keys</a> (for argument map)</li>
                </ul>

                <p><strong>Optional:</strong></p>
                <ul>
                    <li><code>NCBI_API_KEY</code> - Higher PubMed rate limits</li>
                    <li><code>SEMANTIC_SCHOLAR_API_KEY</code> - Higher Semantic Scholar rate limits</li>
                    <li><code>LITREV_DRIVE_PATH</code> - Override Google Drive detection (Windows)</li>
                </ul>

                <h4>Windows (PowerShell) - Recommended:</h4>
                <p>Open PowerShell as Administrator and run:</p>
                <pre><code>[Environment]::SetEnvironmentVariable("ZOTERO_API_KEY", "your-api-key-here", "User")
[Environment]::SetEnvironmentVariable("ZOTERO_USER_ID", "your-numeric-id", "User")
[Environment]::SetEnvironmentVariable("OPENAI_API_KEY", "your-openai-key", "User")</code></pre>

                <p><strong>Verify:</strong></p>
                <ul>
                    <li>Close all terminals and Claude Code</li>
                    <li>Open a NEW PowerShell window</li>
                    <li>Run: <code>$env:ZOTERO_API_KEY</code> - should show your key</li>
                </ul>

                <p><strong>Alternative:</strong> If using Git Bash, add to <code>~/.bashrc</code>:</p>
                <pre><code>export ZOTERO_API_KEY="your-api-key-here"
export ZOTERO_USER_ID="your-numeric-id"
export OPENAI_API_KEY="your-openai-key"</code></pre>
                <p>Then close and reopen your terminal.</p>

                <h4>macOS:</h4>
                <p>Add to your shell config file (<code>~/.zshrc</code> for newer macOS, <code>~/.bash_profile</code> for older):</p>
                <pre><code>export ZOTERO_API_KEY="your-api-key-here"
export ZOTERO_USER_ID="your-numeric-id"
export OPENAI_API_KEY="your-openai-key"</code></pre>

                <p>Then:</p>
                <pre><code>source ~/.zshrc  # or ~/.bash_profile
# OR restart your terminal</code></pre>

                <p><strong>Verify:</strong> Open a NEW terminal and run <code>echo $ZOTERO_API_KEY</code> - should show your key.</p>

                <h4>Linux:</h4>
                <p>Add to your shell config file (<code>~/.bashrc</code> or <code>~/.zshrc</code>):</p>
                <pre><code>export ZOTERO_API_KEY="your-api-key-here"
export ZOTERO_USER_ID="your-numeric-id"
export OPENAI_API_KEY="your-openai-key"</code></pre>

                <p>Then:</p>
                <pre><code>source ~/.bashrc  # or ~/.zshrc
# OR restart your terminal</code></pre>

                <p><strong>Verify:</strong> Open a NEW terminal and run <code>echo $ZOTERO_API_KEY</code> - should show your key.</p>

                <h3>3. Configure Claude Code</h3>
                <p>Add the MCP server:</p>
                <pre><code>claude mcp add litrev -- litrev-mcp</code></pre>
                <p><strong>Important:</strong> You need to run this command <strong>in every repository</strong> where you want to use litrev-mcp. MCP servers are registered per-project. After the first setup, just navigate to each new project directory and run the same command.</p>

                <h3>4. Verify Setup</h3>
                <p>In Claude Code:</p>
                <div class="prompt-box">
                    <code>Use setup_check to verify my configuration</code>
                    <button class="copy-btn" data-text="Use setup_check to verify my configuration">Copy</button>
                </div>

                <p><strong>‚úì Verify This Step:</strong></p>
                <ul>
                    <li>After Python install: <code>python --version</code> (should show 3.10+)</li>
                    <li>After Zotero: Check Better BibTeX in Tools ‚Üí Add-ons</li>
                    <li>After env vars: <code>echo $ZOTERO_API_KEY</code> in new terminal</li>
                    <li>After MCP add: <code>claude mcp list</code> shows litrev as Connected</li>
                    <li>After setup_check: All checks pass</li>
                </ul>

                <h3>5. Install Skill (Optional)</h3>
                <p>For collaborative project context setup:</p>
                <pre><code># Create global skills folder if it doesn't exist
mkdir -p ~/.claude/skills

# Copy the skill
cp -r skills/init-litrev-context ~/.claude/skills/</code></pre>
                <p>Restart Claude Code and use <code>/init-litrev-context PROJECT</code> for setup.</p>
            </section>

            <!-- Multi-Machine Setup -->
            <section id="multi-machine">
                <h2>üñ•Ô∏è Setting Up on Additional Machines</h2>
                <p>Already have litrev-mcp on one machine? Here's how to set up on another:</p>

                <h3>What Syncs vs What Doesn't</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Syncs?</th>
                            <th>Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Config file</td>
                            <td>‚úÖ Yes</td>
                            <td><code>Literature/.litrev/config.yaml</code></td>
                        </tr>
                        <tr>
                            <td>PDFs</td>
                            <td>‚úÖ Yes</td>
                            <td><code>Literature/{PROJECT}/</code></td>
                        </tr>
                        <tr>
                            <td>Notes</td>
                            <td>‚úÖ Yes</td>
                            <td><code>Literature/{PROJECT}/_notes/</code></td>
                        </tr>
                        <tr>
                            <td>DuckDB index</td>
                            <td>‚ùå No (per-machine)</td>
                            <td><code>Literature/.litrev/literature.duckdb</code></td>
                        </tr>
                        <tr>
                            <td>Environment vars</td>
                            <td>‚ùå No (per-machine)</td>
                            <td><code>~/.bashrc</code> or <code>~/.zshrc</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Setup Steps</h3>
                <ol>
                    <li><strong>Install prerequisites</strong> (Python, Zotero, Better BibTeX, Google Drive)</li>
                    <li><strong>Wait for Google Drive sync</strong>
                        <ul>
                            <li>Ensure <code>Literature/</code> folder and contents are synced</li>
                            <li>Check <code>Literature/.litrev/config.yaml</code> exists</li>
                        </ul>
                    </li>
                    <li><strong>Install litrev-mcp</strong>
                        <pre><code>uv tool install litrev-mcp</code></pre>
                    </li>
                    <li><strong>Set environment variables</strong> (per-machine, not synced)
                        <pre><code>export ZOTERO_API_KEY="your-key"
export ZOTERO_USER_ID="your-id"
export OPENAI_API_KEY="your-key"  # if using RAG
source ~/.bashrc  # or ~/.zshrc</code></pre>
                    </li>
                    <li><strong>Add MCP server</strong>
                        <pre><code>claude mcp add litrev -- litrev-mcp</code></pre>
                    </li>
                    <li><strong>Verify</strong>
                        <div class="prompt-box">
                            <code>Use setup_check</code>
                            <button class="copy-btn" data-text="Use setup_check">Copy</button>
                        </div>
                    </li>
                    <li><strong>Reindex papers</strong> (DuckDB doesn't sync)
                        <div class="prompt-box">
                            <code>Use index_papers for project "PROJECT-CODE"</code>
                            <button class="copy-btn" data-text='Use index_papers for project "PROJECT-CODE"'>Copy</button>
                        </div>
                    </li>
                </ol>

                <p><strong>That's it!</strong> Your config, PDFs, and notes are already synced from the first machine.</p>
            </section>

            <!-- Messy Zotero -->
            <section id="messy-zotero">
                <h2>üìö I Have a Messy Zotero Library</h2>
                <p>Don't worry! Here's how to get organized:</p>

                <h3>Step 1: See what you have</h3>
                <div class="prompt-box">
                    <code>List my Zotero collections with paper counts</code>
                    <button class="copy-btn" data-text="List my Zotero collections with paper counts">Copy</button>
                </div>
                <p>This shows all your collections and how many papers are in each one.</p>

                <h3>Step 2: Create a project</h3>
                <p>You can either pick an existing collection or create a new one:</p>
                <div class="prompt-box">
                    <code>Create a new Zotero collection called "Measurement Error"</code>
                    <button class="copy-btn" data-text='Create a new Zotero collection called "Measurement Error"'>Copy</button>
                </div>
                <p>Then link it to a litrev project:</p>
                <div class="prompt-box">
                    <code>Create a new project called "Measurement Error" with code "MEAS-ERR" linked to Zotero collection ABC12345</code>
                    <button class="copy-btn" data-text='Create a new project called "Measurement Error" with code "MEAS-ERR" linked to Zotero collection ABC12345'>Copy</button>
                </div>
                <p><em>Replace ABC12345 with your collection key from creating or Step 1.</em></p>

                <h3>Step 3: Identify gaps</h3>
                <div class="prompt-box">
                    <code>Show me the status of my MEAS-ERR project</code>
                    <button class="copy-btn" data-text="Show me the status of my MEAS-ERR project">Copy</button>
                </div>
                <p>This shows which papers need PDFs, which need NotebookLM processing, and which are complete.</p>

                <h3>Step 4: Get your action items</h3>
                <div class="prompt-box">
                    <code>What are all my pending actions?</code>
                    <button class="copy-btn" data-text="What are all my pending actions?">Copy</button>
                </div>
                <p>This gives you a prioritized list of what to do next: PDFs to download, papers to add to NotebookLM, etc.</p>

                <h3>Step 5: Find more papers</h3>
                <p>Now that you're organized, you can systematically add new papers:</p>
                <div class="prompt-box">
                    <code>Search PubMed for "glucose measurement error correction"</code>
                    <button class="copy-btn" data-text='Search PubMed for "glucose measurement error correction"'>Copy</button>
                </div>
                <div class="prompt-box">
                    <code>Find papers that cite Carroll's measurement error book (DOI: 10.1201/9781420010138)</code>
                    <button class="copy-btn" data-text="Find papers that cite Carroll's measurement error book (DOI: 10.1201/9781420010138)">Copy</button>
                </div>
            </section>

            <!-- Cheat Sheet -->
            <section id="cheat-sheet">
                <h2>üìã Cheat Sheet</h2>
                <p>Copy-paste these prompts for common tasks:</p>

                <h3>Setup & Configuration</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Check my setup</code>
                        <button class="copy-btn" data-text="Check my setup">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Create a new Zotero collection called "COLLECTION_NAME"</code>
                        <button class="copy-btn" data-text='Create a new Zotero collection called "COLLECTION_NAME"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Create a new project called "PROJECT_NAME" with code "CODE"</code>
                        <button class="copy-btn" data-text='Create a new project called "PROJECT_NAME" with code "CODE"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>List my Zotero collections</code>
                        <button class="copy-btn" data-text="List my Zotero collections">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Process the PDFs in my TEST project inbox</code>
                        <button class="copy-btn" data-text="Process the PDFs in my TEST project inbox">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Migrate Zotero server attachments to Google Drive for TEST</code>
                        <button class="copy-btn" data-text="Migrate Zotero server attachments to Google Drive for TEST">Copy</button>
                    </div>
                </div>

                <h3>Finding Papers</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Search PubMed for "YOUR QUERY"</code>
                        <button class="copy-btn" data-text='Search PubMed for "YOUR QUERY"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search Semantic Scholar for "YOUR QUERY"</code>
                        <button class="copy-btn" data-text='Search Semantic Scholar for "YOUR QUERY"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Find papers that cite DOI: YOUR_DOI</code>
                        <button class="copy-btn" data-text="Find papers that cite DOI: YOUR_DOI">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Show me the references from DOI: YOUR_DOI</code>
                        <button class="copy-btn" data-text="Show me the references from DOI: YOUR_DOI">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search ERIC for "YOUR EDUCATION RESEARCH QUERY"</code>
                        <button class="copy-btn" data-text='Search ERIC for "YOUR EDUCATION RESEARCH QUERY"'>Copy</button>
                    </div>
                </div>

                <h3>Adding Papers</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Add this paper to PROJECT: DOI</code>
                        <button class="copy-btn" data-text="Add this paper to PROJECT: DOI">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Add a paper manually: "Title" by Author et al (2023)</code>
                        <button class="copy-btn" data-text='Add a paper manually: "Title" by Author et al (2023)'>Copy</button>
                    </div>
                </div>

                <h3>Status Tracking</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Show me the status of PROJECT</code>
                        <button class="copy-btn" data-text="Show me the status of PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>What papers in PROJECT need PDFs?</code>
                        <button class="copy-btn" data-text="What papers in PROJECT need PDFs?">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>What are all my pending actions?</code>
                        <button class="copy-btn" data-text="What are all my pending actions?">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Mark ITEM_KEY as complete in PROJECT</code>
                        <button class="copy-btn" data-text="Mark ITEM_KEY as complete in PROJECT">Copy</button>
                    </div>
                </div>

                <h3>Knowledge Base</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Save this Consensus summary about TOPIC to PROJECT</code>
                        <button class="copy-btn" data-text="Save this Consensus summary about TOPIC to PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Save this Consensus summary to PROJECT and add the references to Zotero</code>
                        <button class="copy-btn" data-text="Save this Consensus summary to PROJECT and add the references to Zotero">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search my insights for "KEYWORD"</code>
                        <button class="copy-btn" data-text='Search my insights for "KEYWORD"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>What have I learned about TOPIC from my saved insights?</code>
                        <button class="copy-btn" data-text="What have I learned about TOPIC from my saved insights?">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>List all insights for PROJECT</code>
                        <button class="copy-btn" data-text="List all insights for PROJECT">Copy</button>
                    </div>
                </div>

                <h3>RAG Literature Search</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Index my PROJECT for semantic search</code>
                        <button class="copy-btn" data-text="Index my PROJECT for semantic search">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search my papers for "QUERY"</code>
                        <button class="copy-btn" data-text='Search my papers for "QUERY"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Based on my literature, is there support for X?</code>
                        <button class="copy-btn" data-text="Based on my literature, is there support for X?">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>What does my PROJECT index contain?</code>
                        <button class="copy-btn" data-text="What does my PROJECT index contain?">Copy</button>
                    </div>
                </div>

                <h3>Argument Map</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Extract concepts from the latest insight in PROJECT</code>
                        <button class="copy-btn" data-text="Extract concepts from the latest insight in PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Show the argument map for PROJECT</code>
                        <button class="copy-btn" data-text="Show the argument map for PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>What propositions are most relevant to my Methods section?</code>
                        <button class="copy-btn" data-text="What propositions are most relevant to my Methods section?">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Find gaps in my PROJECT argument map</code>
                        <button class="copy-btn" data-text="Find gaps in my PROJECT argument map">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Visualize the argument map for PROJECT</code>
                        <button class="copy-btn" data-text="Visualize the argument map for PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>List all topics for PROJECT</code>
                        <button class="copy-btn" data-text="List all topics for PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Show open issues for PROJECT</code>
                        <button class="copy-btn" data-text="Show open issues for PROJECT">Copy</button>
                    </div>
                </div>

                <h3>Argument Map Search (GraphRAG)</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Embed the propositions for my PROJECT</code>
                        <button class="copy-btn" data-text="Embed the propositions for my PROJECT">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search my PROJECT argument map for "QUERY"</code>
                        <button class="copy-btn" data-text='Search my PROJECT argument map for "QUERY"'>Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Expand from these propositions to see what supports and contradicts them</code>
                        <button class="copy-btn" data-text="Expand from these propositions to see what supports and contradicts them">Copy</button>
                    </div>
                </div>

                <h3>Writing Support</h3>
                <div class="prompt-group">
                    <div class="prompt-box">
                        <code>Get the citation key for ITEM_KEY</code>
                        <button class="copy-btn" data-text="Get the citation key for ITEM_KEY">Copy</button>
                    </div>
                    <div class="prompt-box">
                        <code>Search my PROJECT library for "KEYWORD"</code>
                        <button class="copy-btn" data-text='Search my PROJECT library for "KEYWORD"'>Copy</button>
                    </div>
                </div>
            </section>

            <!-- Argument Map -->
            <section id="argument-map">
                <h2>üó∫Ô∏è Argument Map <span style="background:#e67e22;color:white;padding:2px 8px;border-radius:4px;font-size:0.6em;vertical-align:middle;">BETA</span></h2>
                <p style="background: #fff3cd; padding: 12px; border-left: 4px solid #ffc107; margin: 12px 0;">
                    <strong>Beta:</strong> The argument map and GraphRAG search features are in active development. Tool names, schemas, and database tables may change in future releases. <a href="https://github.com/marcus-waldman/litrev_mcp/issues" target="_blank">Feedback welcome.</a>
                </p>
                <p>The argument map builds a living knowledge graph from your literature, organized by purpose-driven relevance. It distinguishes between <strong>grounded propositions</strong> (from your papers), <strong>AI scaffolding</strong> (from Claude's general knowledge), and <strong>gaps</strong> (important propositions lacking evidence).</p>

                <h3>Building Your Argument Map</h3>
                <p>The typical workflow for building an argument map from your literature:</p>
                <ol>
                    <li><strong>Save insights</strong> ‚Äî Save Consensus/NotebookLM summaries for your papers</li>
                    <li><strong>Extract propositions</strong> ‚Äî <code>extract_concepts</code> uses Claude Opus 4.5 to identify propositions, relationships, and evidence from each insight</li>
                    <li><strong>Review and add</strong> ‚Äî Review the extracted data, then <code>add_propositions</code> to commit to the map</li>
                    <li><strong>Organize into topics</strong> ‚Äî Use <code>create_topic</code> and <code>assign_proposition_topic</code> to group related propositions</li>
                    <li><strong>Search</strong> ‚Äî <code>query_propositions</code> for keyword search, or <code>search_argument_map</code> for semantic GraphRAG search</li>
                    <li><strong>Find gaps</strong> ‚Äî <code>find_argument_gaps</code> shows where you need more evidence</li>
                    <li><strong>Visualize</strong> ‚Äî <code>visualize_argument_map</code> generates an interactive HTML graph</li>
                </ol>

                <h3>GraphRAG Search</h3>
                <p>For large argument maps, instead of loading the entire graph, use semantic search to find exactly the relevant subgraph:</p>
                <ol>
                    <li><strong>Embed once</strong> ‚Äî <code>embed_propositions</code> generates vector embeddings for all propositions (incremental, only new ones)</li>
                    <li><strong>Search</strong> ‚Äî <code>search_argument_map</code> finds seed propositions via vector similarity, then Claude Sonnet decides how deep to traverse and which relationship types to follow</li>
                    <li><strong>Expand</strong> ‚Äî <code>expand_argument_map</code> lets you manually follow relationships from specific propositions</li>
                </ol>

                <h3>Key Concepts</h3>
                <ul>
                    <li><strong>Propositions</strong> ‚Äî Arguable assertions (e.g., "SIMEX provides consistent estimates under measurement error")</li>
                    <li><strong>Topics</strong> ‚Äî High-level themes that group propositions (e.g., "Measurement Error Correction Methods")</li>
                    <li><strong>Relationships</strong> ‚Äî Typed connections: supports, contradicts, extends, qualifies, necessitates, leads_to, precedes, enables, depends_on</li>
                    <li><strong>Evidence</strong> ‚Äî Citable claims linking propositions to specific insights and page numbers</li>
                    <li><strong>Epistemic tags</strong> ‚Äî <code>insight</code> (grounded in your literature) vs <code>ai_knowledge</code> (from Claude, could be wrong)</li>
                    <li><strong>Issues</strong> ‚Äî Track needed changes: needs_evidence, rephrase, wrong_topic, merge, split, delete, question</li>
                    <li><strong>Gaps</strong> ‚Äî AI scaffolding propositions that lack grounded evidence from your literature</li>
                </ul>
            </section>

            <!-- Tool Reference -->
            <section id="tools">
                <h2>üõ†Ô∏è Tool Reference</h2>
                <p>All 61 MCP tools organized by category:</p>

                <h3>Zotero Integration (10 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zotero_list_projects</code></td>
                            <td>List all Zotero collections with paper counts by status</td>
                            <td>None</td>
                        </tr>
                        <tr>
                            <td><code>zotero_create_collection</code></td>
                            <td>Create a new Zotero collection</td>
                            <td><code>name</code>, <code>parent_key</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>zotero_add_paper</code></td>
                            <td>Add a paper to Zotero by DOI or manual metadata</td>
                            <td><code>project</code>, <code>doi</code> (or <code>title</code>, <code>authors</code>, <code>year</code>)</td>
                        </tr>
                        <tr>
                            <td><code>zotero_update_status</code></td>
                            <td>Change a paper's status tag</td>
                            <td><code>project</code>, <code>item_key</code>, <code>status</code> (needs_pdf, needs_notebooklm, complete)</td>
                        </tr>
                        <tr>
                            <td><code>zotero_get_by_status</code></td>
                            <td>Get all papers with a specific status</td>
                            <td><code>project</code>, <code>status</code></td>
                        </tr>
                        <tr>
                            <td><code>zotero_search</code></td>
                            <td>Search your Zotero library</td>
                            <td><code>project</code>, <code>query</code></td>
                        </tr>
                        <tr>
                            <td><code>zotero_get_citation_key</code></td>
                            <td>Get Better BibTeX citation key for a paper</td>
                            <td><code>project</code>, <code>item_key</code></td>
                        </tr>
                        <tr>
                            <td><code>process_pdf_inbox</code></td>
                            <td>Process PDFs in to_add folder: match to Zotero entries, rename, organize, and add Google Drive links (if configured)</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>migrate_zotero_attachments</code></td>
                            <td>Migrate PDFs stored on Zotero's servers to Google Drive. Downloads, renames with citation key, adds Drive link, deletes original. For papers added by drag-drop.</td>
                            <td><code>project</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Literature Search (5 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>pubmed_search</code></td>
                            <td>Search PubMed for biomedical literature</td>
                            <td><code>query</code>, <code>max_results</code> (default: 10)</td>
                        </tr>
                        <tr>
                            <td><code>semantic_scholar_search</code></td>
                            <td>Search Semantic Scholar across all fields</td>
                            <td><code>query</code>, <code>max_results</code> (default: 10)</td>
                        </tr>
                        <tr>
                            <td><code>semantic_scholar_references</code></td>
                            <td>Backward snowball: get papers cited BY a paper</td>
                            <td><code>paper_id</code> (DOI, S2 ID, etc.), <code>max_results</code> (default: 50)</td>
                        </tr>
                        <tr>
                            <td><code>semantic_scholar_citations</code></td>
                            <td>Forward snowball: get papers that CITE a paper</td>
                            <td><code>paper_id</code>, <code>max_results</code> (default: 50)</td>
                        </tr>
                        <tr>
                            <td><code>eric_search</code></td>
                            <td>Search ERIC for education research</td>
                            <td><code>query</code>, <code>max_results</code> (default: 10)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Knowledge Base (4 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>save_insight</code></td>
                            <td>Save Consensus/NotebookLM summaries; optionally extract DOIs and add papers to Zotero (with CrossRef metadata lookup)</td>
                            <td><code>project</code>, <code>source</code>, <code>topic</code>, <code>content</code>, <code>add_references_to_zotero</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>search_insights</code></td>
                            <td>Search saved insights by keyword</td>
                            <td><code>query</code>, <code>project</code> (optional), <code>source</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>analyze_insights</code></td>
                            <td>Answer questions from saved insights (detects contradictions!)</td>
                            <td><code>question</code>, <code>project</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>list_insights</code></td>
                            <td>List all insights for a project</td>
                            <td><code>project</code>, <code>source</code> (optional)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>RAG Literature Search (5 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>index_papers</code></td>
                            <td>Index PDFs for semantic search (extracts text, chunks, generates embeddings). May timeout on large collections; use <code>generate_index_script</code> instead.</td>
                            <td><code>project</code>, <code>force_reindex</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>generate_index_script</code></td>
                            <td>Generate a standalone Python script for indexing papers. Recommended for large collections to avoid MCP timeout.</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>search_papers</code></td>
                            <td>Semantic search across indexed papers, returns passages with citations</td>
                            <td><code>query</code>, <code>project</code> (optional), <code>max_results</code> (default: 10)</td>
                        </tr>
                        <tr>
                            <td><code>ask_papers</code></td>
                            <td>Ask questions about your literature; uses Claude to synthesize a reasoned answer with honest assessment of coverage adequacy</td>
                            <td><code>question</code>, <code>project</code> (optional), <code>max_passages</code> (default: 10)</td>
                        </tr>
                        <tr>
                            <td><code>rag_status</code></td>
                            <td>View indexing status and statistics</td>
                            <td><code>project</code> (optional)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Status & Dashboard (2 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>project_status</code></td>
                            <td>Get comprehensive project dashboard</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>pending_actions</code></td>
                            <td>Get all pending user actions (PDFs to get, papers for NotebookLM)</td>
                            <td>None</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Setup Wizard (3 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>setup_check</code></td>
                            <td>Verify configuration (Google Drive, Zotero credentials)</td>
                            <td>None</td>
                        </tr>
                        <tr>
                            <td><code>setup_create_project</code></td>
                            <td>Create new project with directory structure</td>
                            <td><code>code</code>, <code>name</code>, <code>zotero_collection_key</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>gdrive_reauthenticate</code></td>
                            <td>Force re-authentication with Google Drive (use when tokens expire)</td>
                            <td>None</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Project Context (2 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>get_project_context</code></td>
                            <td>Get project context (goal, audience, style) from _context.md</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>update_project_context</code></td>
                            <td>Create or update project context file</td>
                            <td><code>project</code>, <code>content</code></td>
                        </tr>
                    </tbody>
                </table>
                <p><strong>Tip:</strong> Use <code>/init-litrev-context PROJECT</code> for collaborative context setup.</p>

                <h3>Workflow Tools (5 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>save_gap</code></td>
                            <td>Document a research gap - what you're searching for but haven't found yet. Tracks why it matters and search strategies tried.</td>
                            <td><code>project</code>, <code>topic</code>, <code>why_matters</code>, <code>search_strategy</code>, <code>status</code> (searched/partially_found/not_found)</td>
                        </tr>
                        <tr>
                            <td><code>save_session_log</code></td>
                            <td>Log end-of-session summary with accomplishments, pivots, questions, and next steps. Creates audit trail for resuming work.</td>
                            <td><code>project</code>, <code>status</code>, <code>completed</code> (list), <code>pivots</code> (list, optional), <code>questions</code> (list, optional), <code>next_steps</code> (list, optional)</td>
                        </tr>
                        <tr>
                            <td><code>save_pivot</code></td>
                            <td>Document a conceptual pivot - when your understanding shifts significantly. Tracks what changed, why, and impact on citation strategy.</td>
                            <td><code>project</code>, <code>topic</code>, <code>before</code>, <code>after</code>, <code>rationale</code>, <code>source</code> (optional), <code>impact</code> (optional)</td>
                        </tr>
                        <tr>
                            <td><code>save_search_strategy</code></td>
                            <td>Record search strategy for reproducibility. Documents queries, databases, results, and conclusions for audit trail.</td>
                            <td><code>project</code>, <code>goal</code>, <code>queries</code> (list of dicts), <code>conclusion</code></td>
                        </tr>
                        <tr>
                            <td><code>get_workflow_status</code></td>
                            <td>Get workflow metrics for a project. Returns counts of gaps, pivots, searches, last session date, and current phase.</td>
                            <td><code>project</code></td>
                        </tr>
                    </tbody>
                </table>
                <div class="info-box">
                    <p><strong>NEW in v0.3.0:</strong> Automatic workflow templates created for new projects:</p>
                    <ul>
                        <li><code>_workflow.md</code> - Phase-based progress tracking</li>
                        <li><code>_synthesis_notes.md</code> - Narrative synthesis skeleton</li>
                        <li><code>_gaps.md</code> - Gap documentation</li>
                        <li><code>_pivots.md</code> - Conceptual shift tracking</li>
                        <li><code>_searches.md</code> - Search reproducibility audit trail</li>
                    </ul>
                    <p>All tool outputs now include proactive guidance for next steps and best practices. See <code>todo/litrev_mcp_best_practices.md</code> for the complete structured workflow approach.</p>
                </div>

                <h3>Argument Map ‚Äî Core (7 tools) <span style="background:#e67e22;color:white;padding:1px 6px;border-radius:3px;font-size:0.75em;">BETA</span></h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>extract_concepts</code></td>
                            <td>AI extraction with Claude Opus 4.5 ‚Äî extracts propositions, topics, relationships, and evidence from a saved insight</td>
                            <td><code>project</code>, <code>insight_id</code></td>
                        </tr>
                        <tr>
                            <td><code>add_propositions</code></td>
                            <td>Add propositions, topics, relationships, and evidence to the argument map (after extraction or manual entry)</td>
                            <td><code>project</code>, <code>propositions</code>, <code>topics</code> (opt), <code>relationships</code> (opt), <code>evidence</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>show_argument_map</code></td>
                            <td>Display argument map structure with statistics and details</td>
                            <td><code>project</code>, <code>format</code> (summary/detailed), <code>filter_source</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>update_proposition</code></td>
                            <td>Modify a proposition's definition, aliases, relationships, or evidence</td>
                            <td><code>project</code>, <code>proposition_id</code>, <code>updates</code></td>
                        </tr>
                        <tr>
                            <td><code>delete_proposition</code></td>
                            <td>Remove a proposition from the project (requires confirm=True)</td>
                            <td><code>project</code>, <code>proposition_id</code>, <code>confirm</code></td>
                        </tr>
                        <tr>
                            <td><code>delete_relationship</code></td>
                            <td>Delete a specific relationship between propositions</td>
                            <td><code>project</code>, <code>from_proposition</code>, <code>to_proposition</code>, <code>relationship_type</code></td>
                        </tr>
                        <tr>
                            <td><code>query_propositions</code></td>
                            <td>Keyword search ‚Äî find propositions matching your query by keyword. For semantic search, use <code>search_argument_map</code></td>
                            <td><code>project</code>, <code>query</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Argument Map ‚Äî Topics (5 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>create_topic</code></td>
                            <td>Create a topic for organizing propositions (e.g., "Measurement Error Problem")</td>
                            <td><code>project</code>, <code>name</code>, <code>description</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>list_topics</code></td>
                            <td>List all topics for a project with proposition counts</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>update_topic</code></td>
                            <td>Update a topic's name or description</td>
                            <td><code>project</code>, <code>topic_id</code>, <code>name</code> (opt), <code>description</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>delete_topic</code></td>
                            <td>Delete a topic (unlinks all propositions, requires confirm=True)</td>
                            <td><code>topic_id</code>, <code>confirm</code></td>
                        </tr>
                        <tr>
                            <td><code>assign_proposition_topic</code></td>
                            <td>Link a proposition to a topic (primary or secondary)</td>
                            <td><code>proposition_id</code>, <code>topic_id</code>, <code>is_primary</code> (opt)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Argument Map ‚Äî Discovery & Visualization (2 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>find_argument_gaps</code></td>
                            <td>Find AI scaffolding propositions that lack grounded evidence, with search suggestions</td>
                            <td><code>project</code></td>
                        </tr>
                        <tr>
                            <td><code>visualize_argument_map</code></td>
                            <td>Interactive PyVis graph ‚Äî color-coded nodes (green=grounded, yellow=scaffolding, red=gaps), sized by evidence count, with tooltips</td>
                            <td><code>project</code>, <code>filter_source</code> (opt), <code>highlight_gaps</code> (opt)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Argument Map ‚Äî Conflicts & Issues (6 tools)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>list_conflicts</code></td>
                            <td>List contradictions between AI scaffolding and grounded evidence</td>
                            <td><code>project</code>, <code>status</code> (unresolved/all)</td>
                        </tr>
                        <tr>
                            <td><code>resolve_conflict</code></td>
                            <td>Resolve a flagged conflict (ai_correct, evidence_correct, both_valid)</td>
                            <td><code>conflict_id</code>, <code>resolution</code>, <code>note</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>add_proposition_issue</code></td>
                            <td>Flag a proposition for needed changes (needs_evidence, rephrase, wrong_topic, merge, split, delete, question)</td>
                            <td><code>project</code>, <code>proposition_id</code>, <code>issue_type</code>, <code>description</code></td>
                        </tr>
                        <tr>
                            <td><code>list_proposition_issues</code></td>
                            <td>List issues for a project, filtered by status or proposition</td>
                            <td><code>project</code>, <code>status</code> (open/resolved/all), <code>proposition_id</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>resolve_proposition_issue</code></td>
                            <td>Mark an issue as resolved with notes</td>
                            <td><code>project</code>, <code>issue_id</code>, <code>resolution</code></td>
                        </tr>
                        <tr>
                            <td><code>delete_proposition_issue</code></td>
                            <td>Delete an issue (requires confirm=True)</td>
                            <td><code>project</code>, <code>issue_id</code>, <code>confirm</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Argument Map ‚Äî GraphRAG Search (3 tools) <span style="background:#e67e22;color:white;padding:1px 6px;border-radius:3px;font-size:0.75em;">BETA</span></h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>embed_propositions</code></td>
                            <td>Generate embeddings for propositions (required before search). Skips already-embedded unless force=True.</td>
                            <td><code>project</code>, <code>force</code> (opt)</td>
                        </tr>
                        <tr>
                            <td><code>search_argument_map</code></td>
                            <td>Semantic search with LLM-judged graph traversal ‚Äî finds seed propositions via vector similarity, Claude Sonnet decides traversal depth/types, returns focused subgraph</td>
                            <td><code>project</code>, <code>query</code>, <code>max_results</code> (opt, 1-30)</td>
                        </tr>
                        <tr>
                            <td><code>expand_argument_map</code></td>
                            <td>Manually expand from specific propositions along relationships (no LLM, direct control)</td>
                            <td><code>project</code>, <code>proposition_ids</code>, <code>hop_depth</code> (opt, 1-3), <code>relationship_types</code> (opt)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Server (1 tool)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>restart_server</code></td>
                            <td>Restart the MCP server to reload code changes</td>
                            <td>None</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Test Tool (1 tool)</h3>
                <table class="tool-table">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>What it does</th>
                            <th>Key Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>litrev_hello</code></td>
                            <td>Verify litrev-mcp is working</td>
                            <td>None</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Workflows -->
            <section id="workflows">
                <h2>üîÑ Workflows</h2>

                <h3>Paper Lifecycle</h3>
                <pre class="workflow-diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Search    ‚îÇ  PubMed, Semantic Scholar, ERIC, Consensus
‚îÇ  Databases  ‚îÇ  Citation snowballing (forward/backward)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Add to      ‚îÇ  By DOI or manual entry
‚îÇ Zotero      ‚îÇ  Tagged: _needs-pdf
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Acquire    ‚îÇ  YOU: Download PDF to to_add/ folder
‚îÇ    PDF      ‚îÇ  Run process_pdf_inbox to auto-rename
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  + Adds Google Drive link to Zotero (if configured)
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Update    ‚îÇ  Change tag: _needs-notebooklm
‚îÇ   Status    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Add to      ‚îÇ  YOU: Upload PDF to NotebookLM
‚îÇ NotebookLM  ‚îÇ  Get AI summaries and Q&A
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Save     ‚îÇ  Save NotebookLM insights
‚îÇ  Insights   ‚îÇ  Stored in _notes/ folder
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Mark      ‚îÇ  Change tag: _complete
‚îÇ  Complete   ‚îÇ  Ready for synthesis
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                </pre>

                <h3>Citation Snowballing</h3>
                <pre class="workflow-diagram">
Start with a key paper
        ‚îÇ
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                         ‚îÇ
        ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backward    ‚îÇ         ‚îÇ   Forward    ‚îÇ
‚îÇ  Snowball    ‚îÇ         ‚îÇ  Snowball    ‚îÇ
‚îÇ              ‚îÇ         ‚îÇ              ‚îÇ
‚îÇ Papers cited ‚îÇ         ‚îÇ Papers that  ‚îÇ
‚îÇ  BY this     ‚îÇ         ‚îÇ  CITE this   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                         ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚ñº
          Filter & Add to Zotero
                  ‚îÇ
                  ‚ñº
          Repeat for new papers
                </pre>

                <h3>Knowledge Synthesis</h3>
                <pre class="workflow-diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Consensus  ‚îÇ  YOU: Search Consensus.app
‚îÇ    Search    ‚îÇ  Copy summary
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Save Insight ‚îÇ  Save to project _notes/
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  NotebookLM  ‚îÇ  YOU: Upload PDFs
‚îÇ   Analysis   ‚îÇ  Get AI analysis
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Save Insight ‚îÇ  Save to project _notes/
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Analyze    ‚îÇ  "What have I learned about X?"
‚îÇ   Insights   ‚îÇ  Detects contradictions between sources!
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Synthesis   ‚îÇ  Write your own synthesis notes
‚îÇ    Notes     ‚îÇ  Save to project _notes/
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                </pre>

                <h3>RAG Literature Search</h3>
                <pre class="workflow-diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Index       ‚îÇ  Extract PDF text, chunk, embed
‚îÇ  Papers      ‚îÇ  Stored in literature.duckdb
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Search     ‚îÇ  "AIC correction for missing data"
‚îÇ   Papers     ‚îÇ  Returns passages with citations
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Ask       ‚îÇ  "Is there support for FIML over MI?"
‚îÇ   Papers     ‚îÇ  Formatted context for Claude synthesis
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Synthesize  ‚îÇ  Claude combines passages
‚îÇ   Answer     ‚îÇ  with proper citations
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                </pre>

                <h3>Argument Map</h3>
                <pre class="workflow-diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Save      ‚îÇ  Save NotebookLM/Consensus summaries
‚îÇ   Insights   ‚îÇ  to project _notes/
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Extract    ‚îÇ  Claude Opus 4.5 identifies propositions,
‚îÇ   Concepts   ‚îÇ  relationships, evidence from each insight
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Review &    ‚îÇ  Review extracted data, then commit
‚îÇ    Add       ‚îÇ  to the argument map
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Organize    ‚îÇ  ‚îÇ   Embed      ‚îÇ
‚îÇ  into Topics ‚îÇ  ‚îÇ Propositions ‚îÇ  (for GraphRAG search)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                  ‚îÇ
       ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Query by    ‚îÇ  ‚îÇ   Search     ‚îÇ  Semantic search +
‚îÇ   Purpose    ‚îÇ  ‚îÇ   Map        ‚îÇ  LLM-judged traversal
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                  ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚ñº
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ  Find Gaps   ‚îÇ  Salient propositions
          ‚îÇ  & Visualize ‚îÇ  lacking evidence
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                </pre>

                <h3>Common Scenarios</h3>

                <details>
                    <summary><strong>Starting a new literature review</strong></summary>
                    <ol>
                        <li>Create project and link to Zotero collection</li>
                        <li>Search PubMed/Semantic Scholar for key terms</li>
                        <li>Add 5-10 foundational papers by DOI</li>
                        <li>Citation snowball from 2-3 most relevant papers</li>
                        <li>Review pending actions to prioritize PDF acquisition</li>
                    </ol>
                </details>

                <details>
                    <summary><strong>Organizing existing papers</strong></summary>
                    <ol>
                        <li>List Zotero collections to see what you have</li>
                        <li>Create project linked to most relevant collection</li>
                        <li>Check project status to identify gaps (missing PDFs)</li>
                        <li>Get pending actions for prioritized task list</li>
                        <li>Work through actions systematically</li>
                    </ol>
                </details>

                <details>
                    <summary><strong>Writing a paper</strong></summary>
                    <ol>
                        <li>Search insights for key concepts: "What have I learned about SIMEX?"</li>
                        <li>Analyze insights to find contradictions or gaps</li>
                        <li>Get citation keys for papers you want to cite</li>
                        <li>Search Zotero library for specific claims or methods</li>
                        <li>Write synthesis notes as you draft sections</li>
                    </ol>
                </details>

                <details>
                    <summary><strong>Building an argument map for your paper</strong></summary>
                    <ol>
                        <li>Save insights for each paper in your project</li>
                        <li>Run <code>extract_concepts</code> on each insight</li>
                        <li>Review extracted propositions and <code>add_propositions</code></li>
                        <li>Create topics to organize your argument structure</li>
                        <li>Run <code>embed_propositions</code> to enable semantic search</li>
                        <li>Use <code>search_argument_map</code> to find relevant subgraphs for each section</li>
                        <li>Run <code>find_argument_gaps</code> to identify where you need more literature</li>
                        <li>Use <code>visualize_argument_map</code> to see the big picture</li>
                    </ol>
                </details>

                <details>
                    <summary><strong>Deep diving on a topic</strong></summary>
                    <ol>
                        <li>Search Consensus for high-level synthesis</li>
                        <li>Save Consensus summary as insight</li>
                        <li>Extract key papers from Consensus results</li>
                        <li>Add papers to Zotero, get PDFs</li>
                        <li>Upload PDFs to NotebookLM for detailed analysis</li>
                        <li>Save NotebookLM insights</li>
                        <li>Use analyze_insights to synthesize across sources</li>
                    </ol>
                </details>
            </section>

            <!-- Troubleshooting -->
            <section id="troubleshooting">
                <h2>üîß Troubleshooting</h2>

                <h3>"citation key not found"</h3>
                <p><strong>Cause:</strong> Better BibTeX not installed</p>
                <p><strong>Fix:</strong> Install Better BibTeX plugin in Zotero (see <a href="#prerequisites">Prerequisites</a>)</p>

                <h3>"OPENAI_API_KEY not set" when using ask_papers</h3>
                <p><strong>Cause:</strong> OpenAI key required for RAG features</p>
                <p><strong>Fix:</strong> Set <code>export OPENAI_API_KEY="your-key"</code> and reload shell</p>

                <h3>"Failed to connect to litrev MCP server"</h3>
                <p><strong>Cause:</strong> Python environment mismatch or server crashed</p>
                <p><strong>Fix:</strong> Remove and re-add with full path:</p>
                <pre><code>claude mcp remove litrev
claude mcp add litrev -- /full/path/to/.venv/Scripts/python.exe -m litrev_mcp.server</code></pre>
                <p>Or check server health: <code>python -m litrev_mcp.server</code></p>

                <h3>Windows: "Cannot find Google Drive"</h3>
                <p><strong>Cause:</strong> Drive letter varies by machine</p>
                <p><strong>Fix:</strong> Set explicitly:</p>
                <pre><code>export LITREV_DRIVE_PATH="C:/Users/YourName/Google Drive"</code></pre>

                <h3>"Database too large"</h3>
                <p><strong>Cause:</strong> Using default 1536 dimensions with 500+ papers</p>
                <p><strong>Fix:</strong> Edit <code>Literature/.litrev/config.yaml</code>:</p>
                <pre><code>rag:
  embedding_dimensions: 512</code></pre>
                <p>Then delete <code>literature.duckdb</code> and reindex. Reduces storage by ~66% with minimal quality impact.</p>

                <h3>Google Drive path not detected</h3>
                <p><strong>Problem:</strong> "Google Drive path not detected" error</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Set environment variable: <code>export LITREV_DRIVE_PATH="/path/to/Google Drive"</code></li>
                    <li>On Windows, try: <code>G:\My Drive</code></li>
                    <li>On Mac, try: <code>~/Library/CloudStorage/GoogleDrive-*/My Drive</code></li>
                    <li>Ensure Google Drive is syncing and mounted</li>
                </ol>

                <h3>Zotero credentials not working</h3>
                <p><strong>Problem:</strong> "ZOTERO_API_KEY not set" or authentication errors</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Verify variables are set: <code>echo $ZOTERO_API_KEY</code></li>
                    <li>Check you added them to the right shell config (<code>~/.bashrc</code>, <code>~/.zshrc</code>)</li>
                    <li>Reload shell: <code>source ~/.bashrc</code></li>
                    <li>Verify key has correct permissions (library access, write access)</li>
                    <li>Try creating a new API key at <a href="https://www.zotero.org/settings/keys" target="_blank">Zotero settings</a></li>
                </ol>

                <h3>Project not found</h3>
                <p><strong>Problem:</strong> "Project 'XYZ' not found" error</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Check project code is correct (case-sensitive)</li>
                    <li>List projects: "List my projects"</li>
                    <li>Create project if needed: "Create a new project..."</li>
                    <li>Verify <code>Literature/.litrev/config.yaml</code> exists</li>
                </ol>

                <h3>Papers not showing status tags</h3>
                <p><strong>Problem:</strong> Papers in Zotero don't have _needs-pdf tags</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Status tags are only applied to NEW papers added via litrev-mcp</li>
                    <li>For existing papers, manually add tags in Zotero</li>
                    <li>Or re-add them via litrev-mcp using their DOIs</li>
                    <li>Check config.yaml has correct status_tags defined</li>
                </ol>

                <h3>Can't find citation key</h3>
                <p><strong>Problem:</strong> "Citation key not found" or getting generic keys</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Ensure Better BibTeX plugin is installed in Zotero</li>
                    <li>Check BBT settings for citation key pattern</li>
                    <li>Refresh citation keys in Zotero (right-click ‚Üí Better BibTeX ‚Üí Refresh)</li>
                    <li>Wait a moment for BBT to generate keys for new papers</li>
                </ol>

                <h3>Rate limit errors</h3>
                <p><strong>Problem:</strong> "Rate limit exceeded" when searching</p>
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li><strong>PubMed:</strong> Get free API key from <a href="https://www.ncbi.nlm.nih.gov/account/" target="_blank">NCBI</a> (increases limit from 3/sec to 10/sec)</li>
                    <li><strong>Semantic Scholar:</strong> Get free API key from <a href="https://www.semanticscholar.org/product/api" target="_blank">Semantic Scholar</a> (increases limit from 100/5min to 5000/5min)</li>
                    <li>Add keys to environment: <code>export NCBI_API_KEY="..." SEMANTIC_SCHOLAR_API_KEY="..."</code></li>
                    <li>Wait a few minutes and try again</li>
                </ul>

                <h3>RAG search not working</h3>
                <p><strong>Problem:</strong> "OPENAI_API_KEY not set" or embedding errors</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Get API key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI</a></li>
                    <li>Add to shell config: <code>export OPENAI_API_KEY="your-key"</code></li>
                    <li>Reload shell: <code>source ~/.bashrc</code></li>
                    <li>Restart Claude Code</li>
                </ol>

                <h3>Papers not being indexed</h3>
                <p><strong>Problem:</strong> "No PDF found" for papers during indexing</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Ensure PDFs are in the project folder (e.g., <code>Literature/PROJECT/</code>)</li>
                    <li>PDFs must be named with citation key (e.g., <code>smith_glucose_2020.pdf</code>)</li>
                    <li>Run <code>process_pdf_inbox</code> to auto-rename PDFs</li>
                    <li>Check that Better BibTeX is generating citation keys in Zotero</li>
                </ol>

                <h3>Scanned PDFs not searchable</h3>
                <p><strong>Problem:</strong> "PDF has no extractable text"</p>
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Scanned/image-only PDFs cannot be indexed (OCR limitation)</li>
                    <li>Try to obtain a text-based version of the PDF</li>
                    <li>Use OCR software to create a searchable PDF first</li>
                </ul>

                <h3>Argument map search returns no results</h3>
                <p><strong>Problem:</strong> <code>search_argument_map</code> returns empty or error</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Run <code>embed_propositions</code> first ‚Äî embeddings are required for search</li>
                    <li>Check that propositions exist: use <code>show_argument_map</code></li>
                    <li>If propositions were recently updated, re-run <code>embed_propositions</code> to catch stale embeddings</li>
                    <li>Verify <code>OPENAI_API_KEY</code> is set (needed for embeddings)</li>
                    <li>Verify <code>ANTHROPIC_API_KEY</code> is set (needed for traversal judgment)</li>
                </ol>

                <h3>"ANTHROPIC_API_KEY not set" for argument map</h3>
                <p><strong>Cause:</strong> Anthropic key required for <code>extract_concepts</code> and <code>search_argument_map</code></p>
                <p><strong>Fix:</strong> Set <code>export ANTHROPIC_API_KEY="your-key"</code> and reload shell</p>

                <h3>Server not responding</h3>
                <p><strong>Problem:</strong> Claude Code doesn't show litrev-mcp tools</p>
                <p><strong>Solutions:</strong></p>
                <ol>
                    <li>Verify installation: <code>which litrev-mcp</code> (should show path)</li>
                    <li>Check Claude Code MCP config is correct</li>
                    <li>Restart Claude Code completely</li>
                    <li>Test server directly: <code>python -m litrev_mcp.server</code></li>
                </ol>
            </section>

            <footer>
                <p>Built with litrev-mcp v0.5.0 | <a href="https://github.com/marcus-waldman/litrev_mcp" target="_blank">GitHub</a></p>
            </footer>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
